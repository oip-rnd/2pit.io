<!-- 
/**
 * PpitCore V1.0 (https://github.com/p-pit/PpitCore)
 *
 * @link      https://github.com/p-pit/PpitCore
 * @copyright Copyright (c) 2016 Bruno Lartillot
 * @license   https://github.com/p-pit/PpitCore/blob/master/license.txt GNU-GPL license
 */
-->

<!-- Form header -->
<?php echo $this->partial('/partials/form-header', array(
			'update_time' => $instance->update_time,
			'message' => $message,
			'error' => $error,
			'csrfForm' => $csrfForm,
			'context' => $context,
)) ?>
			
<!-- Global message -->
<?php if ($message == 'confirm-update') : ?>
			<div class="form-group" id="message">
				<div class="col-sm-12"><h4><?php echo $this->translate('Are you sure you want to update the instance ?', 'ppit-core', $context->getLocale()) ?></h4></div>
			</div>
<?php elseif ($message == 'confirm-delete') : ?>
				<div class="form-group" id="message">
						<div class="col-sm-12"><h4><?php echo $this->translate('Are you sure you want to delete the instance ?', 'ppit-core', $context->getLocale()) ?></h4></div>
					</div>
<?php endif;?>

<?php if (!$instance->id) : ?>
		    <div class="form-group">
				<div class="col-sm-5">&nbsp;</div>
				<div class="col-sm-7">
					<input name="submit" type="submit" id="submit-button" class="btn btn-warning" value="<?php echo $this->translate('Add', 'ppit-core', $context->getLocale()) ?>">
				</div>
			</div>

<?php else : ?>
		    <div class="form-group">
				<div class="col-sm-5">&nbsp;</div>
				<div class="col-sm-7">
					<input name="submit" type="submit" id="submit-button" class="btn <?php echo ($action == 'delete') ? 'btn-danger' : 'btn-warning' ?>" value="<?php echo ($action == 'delete') ? $this->translate('Delete', 'ppit-core', $context->getLocale()) : $this->translate('Update', 'ppit-core', $context->getLocale()) ?>">
				</div>
			</div>
<?php endif;?>

<?php if ($message == 'OK' || $action == 'delete') $isDisabled = true; else $isDisabled = false; ?>
	
			<!-- Caption -->
			
			<div class="form-group" id="caption_group">
				<label class="col-sm-5 control-label">* <?php echo $this->translate('Caption', 'ppit-core', $context->getLocale()) ?></label>
				<div class="col-sm-7">
		    		<input class="form-control" id="caption" name="caption" value="<?php echo $instance->caption ?>" <?php if ($isDisabled) echo 'disabled="disabled"'?> />
				</div>
				<div class="col-sm-12"><p class="help-block" id="caption_error"></p></div>
			</div>
	
			<!-- Is active -->
			<div class="form-group" id="is_active_group">
				<label class="col-sm-5 control-label"><?php echo $this->translate('Active ?', 'ppit-core', $context->getLocale()) ?></label>
				<div class="col-sm-7">
					<input type="checkbox" name="is_active" id="is_active" class="form-control" value="1"<?php if ($instance->is_active) echo ' checked="checked"' ?><?php if (isset($isDisabled) && $isDisabled) echo ' disabled ="disabled"' ?>>
				</div>
				<div class="col-sm-12"><p class="help-block" id="is_active_error"></p></div>
			</div>

			<div class="form-group" id="comment_group">
				<label class="col-sm-5 control-label"><?php echo $this->translate('Comment', 'ppit-core', $context->getLocale()) ?></label>
				<div class="col-sm-7">
		    		<textarea class="form-control" id="comment" name="comment" <?php if ($isDisabled) echo 'disabled="disabled"'?>></textarea>
				</div>
				<div class="col-sm-12"><p class="help-block" id="comment_error"></p></div>
			</div>
			
		</form>
	</div>
</div>
